<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Charged</title>
    <link href="https://fonts.googleapis.com/css?family=Montserrat:400,700,200" rel="stylesheet">
    <link href="https://maxcdn.bootstrapcdn.com/font-awesome/latest/css/font-awesome.min.css" rel="stylesheet">
    <link href="css/aos.css?ver=1.1.0" rel="stylesheet">
    <link href="css/bootstrap.min.css?ver=1.1.0" rel="stylesheet">
    <link href="css/main.css?ver=1.1.0" rel="stylesheet">
    <noscript>
      <style type="text/css">
        [data-aos] {
            opacity: 1 !important;
            transform: translate(0) scale(1) !important;
        }
      </style>
    </noscript>
  </head>
  <body id="top">
    <header>
      <div class="profile-page sidebar-collapse">
        <nav class="navbar navbar-expand-lg fixed-top navbar-transparent bg-primary" color-on-scroll="400">
          <div class="container">
            <div class="navbar-translate"><a class="navbar-brand" href="#" rel="tooltip">Creative CV</a>
              <button class="navbar-toggler navbar-toggler" type="button" data-toggle="collapse" data-target="#navigation" aria-controls="navigation" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-bar bar1"></span><span class="navbar-toggler-bar bar2"></span><span class="navbar-toggler-bar bar3"></span></button>
            </div>
            <div class="collapse navbar-collapse justify-content-end" id="navigation">
              <ul class="navbar-nav">
                <li class="nav-item"><a class="nav-link smooth-scroll" href="#about">About</a></li>
                <li class="nav-item"><a class="nav-link smooth-scroll" href="#skill">Skills</a></li>
                <li class="nav-item"><a class="nav-link smooth-scroll" href="#portfolio">Portfolio</a></li>
                <li class="nav-item"><a class="nav-link smooth-scroll" href="#experience">Experience</a></li>
                <li class="nav-item"><a class="nav-link smooth-scroll" href="#contact">Contact</a></li>
              </ul>
            </div>
          </div>
        </nav>
      </div>
    </header>
    <div class="page-content">
      <div>
<div class="profile-page">
  <div class="wrapper">
    <div class="page-header page-header-small" filter-color="green">
      <div class="page-header-image" data-parallax="true" style="background-image: url('i5.jpg')"></div>
      <div class="container">
        <div class="content-center">
          <div class="cc-profile-image"><a href="#"><img src="ham.jpg" alt="Image"/></a></div>
          <div class="h2 title">HEMAL CHOOTT</div>
          <p class="category text-white">POPULATION DEVELOPER,VIDEOGRAPHER,NIGHT RIDER </p><a class="btn btn-primary smooth-scroll mr-2" href="#contact" data-aos="zoom-in" data-aos-anchor="data-aos-anchor">Contact Me</a><a class="btn btn-primary" href="#" data-aos="zoom-in" data-aos-anchor="data-aos-anchor">Download file</a>
        </div>
      </div>
      <div class="section">
        <div class="container">
          <div class="button-container"><a class="btn btn-default btn-round btn-lg btn-icon" href="#" rel="tooltip" title="Follow me on Facebook"><i class="fa fa-facebook"></i></a><a class="btn btn-default btn-round btn-lg btn-icon" href="#" rel="tooltip" title="Follow me on Twitter"><i class="fa fa-twitter"></i></a><a class="btn btn-default btn-round btn-lg btn-icon" href="#" rel="tooltip" title="Follow me on Google+"><i class="fa fa-google-plus"></i></a><a class="btn btn-default btn-round btn-lg btn-icon" href="#" rel="tooltip" title="Follow me on Instagram"><i class="fa fa-instagram"></i></a></div>
        </div>
      </div>
    </div>
  </div>
</div>
<div class="section" id="about">
  <div class="container">
    <div class="card" data-aos="fade-up" data-aos-offset="10">
      <div class="row">
        <div class="col-lg-6 col-md-12">
          <div class="card-body">
            <div class="h4 mt-0 title">thanks for everything</div>
            <p>hallo i am hemal.</p>
            <p>First of all, I want to say a big thank you from the bottom of my heart for being here today. Whether you're family, a close friend, or someone I‚Äôve recently come to know, your presence truly means the world to me.

Celebrating another year of life is always special ‚Äî but getting to do it surrounded by the people I care about makes it unforgettable. Thank you for your wishes, your love, your blessings, and of course‚Ä¶ your amazing gifts!

I feel incredibly lucky and grateful ‚Äî not just for the celebration, but for having people like you in my life who support me, laugh with me, and make life so much more beautiful.

Let‚Äôs continue to enjoy today with love, laughter, and good memories. Once again, thank you all so much for making my birthday so special.

Cheers! üéâ

 <a href="https://templateflip.com/templates/creative-cv/" target="_blank">Learn More</a></p>
          </div>
        </div>
        <div class="col-lg-6 col-md-12">
          <div class="card-body">
            <div class="h4 mt-0 title">Basic Information</div>
            <div class="row">
              <div class="col-sm-4"><strong class="text-uppercase">Realatio ship :</strong></div>
              <div class="col-sm-8">single</div>
            </div>
            <div class="row mt-3">
              <div class="col-sm-4"><strong class="text-uppercase">Insta:</strong></div>
              <div class="col-sm-8">Hamel</div>
            </div>
            <div class="row mt-3">
              <div class="col-sm-4"><strong class="text-uppercase">Phone:</strong></div>
              <div class="col-sm-8">+8075130045</div>
            </div>
            <div class="row mt-3">
              <div class="col-sm-4"><strong class="text-uppercase">Address:</strong></div>
              <div class="col-sm-8">mela ponnankayam , Thiruvambady, Kerala</div>
            </div>
            <div class="row mt-3">
              <div class="col-sm-4"><strong class="text-uppercase">Language:</strong></div>
              <div class="col-sm-8">English, malayalam </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
<div class="section" id="skill">
  <div class="container">
    <div class="h4 text-center mb-4 title">Professional Skills</div>
    <div class="card" data-aos="fade-up" data-aos-anchor-placement="top-bottom">
      <div class="card-body">
        <div class="row">
          <div class="col-md-6">
            <div class="progress-container progress-primary"><span class="progress-badge">XXX</span>
              <div class="progress">
                <div class="progress-bar progress-bar-primary" data-aos="progress-full" data-aos-offset="10" data-aos-duration="2000" role="progressbar" aria-valuenow="60" aria-valuemin="0" aria-valuemax="100" style="width: 80%;"></div><span class="progress-value">80%</span>
              </div>
            </div>
          </div>
          <div class="col-md-6">
            <div class="progress-container progress-primary"><span class="progress-badge">XXX</span>
              <div class="progress">
                <div class="progress-bar progress-bar-primary" data-aos="progress-full" data-aos-offset="10" data-aos-duration="2000" role="progressbar" aria-valuenow="60" aria-valuemin="0" aria-valuemax="100" style="width: 75%;"></div><span class="progress-value">75%</span>
              </div>
            </div>
          </div>
        </div>
        <div class="row">
          <div class="col-md-6">
            <div class="progress-container progress-primary"><span class="progress-badge">XXX</span>
              <div class="progress">
                <div class="progress-bar progress-bar-primary" data-aos="progress-full" data-aos-offset="10" data-aos-duration="2000" role="progressbar" aria-valuenow="60" aria-valuemin="0" aria-valuemax="100" style="width: 60%;"></div><span class="progress-value">60%</span>
              </div>
            </div>
          </div>
          <div class="col-md-6">
            <div class="progress-container progress-primary"><span class="progress-badge">XXX</span>
              <div class="progress">
                <div class="progress-bar progress-bar-primary" data-aos="progress-full" data-aos-offset="10" data-aos-duration="2000" role="progressbar" aria-valuenow="60" aria-valuemin="0" aria-valuemax="100" style="width: 60%;"></div><span class="progress-value">60%</span>
              </div>
            </div>
          </div>
        </div>
        <div class="row">
          <div class="col-md-6">
            <div class="progress-container progress-primary"><span class="progress-badge">XXX</span>
              <div class="progress">
                <div class="progress-bar progress-bar-primary" data-aos="progress-full" data-aos-offset="10" data-aos-duration="2000" role="progressbar" aria-valuenow="60" aria-valuemin="0" aria-valuemax="100" style="width: 75%;"></div><span class="progress-value">75%</span>
              </div>
            </div>
          </div>
          <div class="col-md-6">
            <div class="progress-container progress-primary"><span class="progress-badge">XXX</span>
              <div class="progress">
                <div class="progress-bar progress-bar-primary" data-aos="progress-full" data-aos-offset="10" data-aos-duration="2000" role="progressbar" aria-valuenow="60" aria-valuemin="0" aria-valuemax="100" style="width: 70%;"></div><span class="progress-value">70%</span>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
<div class="section" id="portfolio">
  <div class="container">
    <div class="row">
      <div class="col-md-6 ml-auto mr-auto">
        <div class="h4 text-center mb-4 title">Portfolio</div>
        <div class="nav-align-center">
          <ul class="nav nav-pills nav-pills-primary" role="tablist">
            <li class="nav-item"><a class="nav-link active" data-toggle="tab" href="#web-development" role="tablist"><i class="fa fa-laptop" aria-hidden="true"></i></a></li>
            <li class="nav-item"><a class="nav-link" data-toggle="tab" href="#graphic-design" role="tablist"><i class="fa fa-picture-o" aria-hidden="true"></i></a></li>
            <li class="nav-item"><a class="nav-link" data-toggle="tab" href="#Photography" role="tablist"><i class="fa fa-camera" aria-hidden="true"></i></a></li>
          </ul>
        </div>
      </div>
    </div>
    <div class="tab-content gallery mt-5">
      <div class="tab-pane active" id="web-development">
        <div class="ml-auto mr-auto">
          <div class="row">
            <div class="col-md-6">
              <div class="cc-porfolio-image img-raised" data-aos="fade-up" data-aos-anchor-placement="top-bottom"><a href="#web-development">
                  <figure class="cc-effect"><img src="blow.jpg" alt="Image"/>
                    <figcaption>
                      <div class="h4">Recent Project</div>
                      <p></p>
                    </figcaption>
                  </figure></a></div>
              <div class="cc-porfolio-image img-raised" data-aos="fade-up" data-aos-anchor-placement="top-bottom"><a href="#web-development">
                  <figure class="cc-effect"><img src="pipe.jpg" alt="Image"/>
                    <figcaption>
                      <div class="h4">Startup Project</div>
                      <p></p>
                    </figcaption>
                  </figure></a></div>
            </div>

    
              <!doctype html>

<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Pac‚ÄëMan ‚Äî Browser Game (HTML/CSS/JS)</title>
<style>
  :root{--bg:#031028;--panel:#07142a;--accent:#ffd24a;--muted:#9fb4c8;--danger:#ff6b6b}
  *{box-sizing:border-box}
  html,body{height:100%;margin:0;font-family:Inter,system-ui,Segoe UI,Arial;background:linear-gradient(180deg,var(--bg),#021022);color:#e6f0fb}
  .wrap{max-width:980px;margin:18px auto;padding:18px}
  header{display:flex;align-items:center;gap:12px}
  h1{font-size:20px;margin:0}
  p.lead{margin:0;color:var(--muted);font-size:13px}.game-area{display:flex;gap:18px;margin-top:16px;align-items:flex-start} canvas{background:#041026;border-radius:10px;box-shadow:0 10px 30px rgba(2,6,23,0.6)}

.side{width:260px} .panel{background:var(--panel);padding:12px;border-radius:10px} .stat{display:flex;justify-content:space-between;align-items:center;margin-bottom:8px} .muted{color:var(--muted);font-size:13px} .big{font-weight:700;color:var(--accent)}

/* controller */ .controller{margin-top:12px;display:flex;justify-content:center} .dpad{width:220px;background:transparent;border-radius:12px;display:grid;grid-template-columns:1fr 1fr 1fr;gap:8px;align-items:center} .btn{background:linear-gradient(180deg,#0a2030,#08202a);border:1px solid rgba(255,255,255,0.03);padding:12px;border-radius:10px;color:#dff0ff;font-weight:700;user-select:none} .btn:active{transform:translateY(1px) scale(0.995)} .btn-lg{grid-column:1/4;text-align:center} .small{font-size:13px;color:var(--muted)}

/* overlay */ .overlay{position:fixed;left:0;top:0;right:0;bottom:0;display:flex;align-items:center;justify-content:center;background:linear-gradient(180deg,rgba(1,6,15,0.6),rgba(1,6,15,0.85));backdrop-filter:blur(2px);z-index:40} .modal{background:#061428;padding:22px;border-radius:12px;text-align:center;box-shadow:0 20px 60px rgba(0,0,0,0.6)} .modal h2{margin:0 0 10px} .ghost-dot{width:14px;height:14px;border-radius:50%;display:inline-block;margin-left:8px}

footer{margin-top:16px;color:var(--muted);font-size:13px;text-align:center}

@media (max-width:780px){.game-area{flex-direction:column;align-items:center}.side{width:100%}} </style>

</head>
<body>
  <div class="wrap">
    <header>
      <h1>Pac‚ÄëMan ‚Äî Mini Browser Game</h1>
      <p class="lead">Arrow keys or on-screen buttons. Includes ghosts, pellets, score, power pellets, lives, and game over.</p>
    </header><div class="game-area">
  <canvas id="game" width="560" height="620"></canvas>
<div class="panel" style="margin-top:12px;text-align:center">
      <div class="muted">Touch Controls</div>
      <div class="controller">
        <div class="dpad" id="dpad">
          
          
          
           <button class="btn" data-dir="left">‚Üê</button>
          <button class="bt</n" data-dir="up">^</button>
         
          <button class="btn" data-dir="right">‚Üí</button>
          <button class="btn btn-lg" data-dir="down">‚Üì</button>
        </div>
      </div>
    </div>
  <div class="side">
    <div class="panel">
      <div class="stat"><div class="muted">Score</div><div id="score" class="big">0</div></div>
      <div class="stat"><div class="muted">Lives</div><div id="lives" class="big">3</div></div>
      <div class="stat"><div class="muted">Mode</div><div id="mode" class="muted">Normal</div></div>
      <div style="height:8px"></div>
      <div class="muted">Controls</div>
      <ul style="margin-top:6px;color:var(--muted);font-size:13px;line-height:1.6">
        <li>Keyboard: Arrow keys</li>
        <li>Mobile: Tap on-screen buttons</li>
      </ul>

      <div style="margin-top:12px;display:flex;gap:8px">
        <button id="startBtn" class="btn">Start / Restart</button>
        <button id="muteBtn" class="btn">Pause</button>
      </div>
    </div>

    <div class="panel" style="margin-top:12px;text-align:center">
      <div class="muted">Ghosts</div>
      <div style="margin-top:8px">
        <div><span style="display:inline-block;width:12px;height:12px;background:#ff4242;border-radius:3px;margin-right:8px"></span> Blinky (red)</div>
        <div style="margin-top:6px"><span style="display:inline-block;width:12px;height:12px;background:#ffb86b;border-radius:3px;margin-right:8px"></span> Clyde (orange)</div>
        <div style="margin-top:6px"><span style="display:inline-block;width:12px;height:12px;background:#6be1ff;border-radius:3px;margin-right:8px"></span> Inky (cyan)</div>
      </div>
    </div>


  </div>
</div>

<footer>Simple demo ‚Äî feel free to extend (collision, AI, and visuals are intentionally minimal but robust).</footer>

  </div>  <!-- overlays -->  <div id="overlay" class="overlay" style="display:none">
    <div class="modal">
      <h2 id="overlayTitle">Game Over</h2>
      <p id="overlayText">Your score: 0</p>
      <div style="margin-top:12px"><button id="overlayBtn" class="btn">Play Again</button></div>
    </div>
  </div><script>
/* ====== Pac-Man Mini Game ======
   Grid-based maze, simple AI, pellets, power pellets, scoring, lives.
   Keyboard + touch controls implemented. Single-file demo.
*/
(() => {
  const canvas = document.getElementById('game');
  const ctx = canvas.getContext('2d');
  const scoreEl = document.getElementById('score');
  const livesEl = document.getElementById('lives');
  const modeEl = document.getElementById('mode');
  const overlay = document.getElementById('overlay');
  const overlayTitle = document.getElementById('overlayTitle');
  const overlayText = document.getElementById('overlayText');
  const overlayBtn = document.getElementById('overlayBtn');
  const startBtn = document.getElementById('startBtn');
  const muteBtn = document.getElementById('muteBtn');

  const TILE = 30; // size of grid tile in px
  const COLS = Math.floor(canvas.width / TILE); // 28
  const ROWS = Math.floor(canvas.height / TILE); // 31

  // Simple maze layout (0 = empty/path, 1 = wall, 2 = pellet, 3 = power pellet)
  // We'll build an easy symmetric map ‚Äî keep it small enough to fit.
  let raw = [
    "1111111111111111111111111111",
    "1000000000110000000000000001",
    "1011111110110111111111101101",
    "1030000010000100000000100301",
    "1010111011110111011110101101",
    "1000100000000000000010000001",
    "1110110111110111110110111011",
    "0000100100000100001001000000",
    "1110101111100111110111010111",
    "1000000000000000000000000001",
    "1011111010111111010111110101",
    "1000000010000000010000000001",
    "1111111111111111111111111111",
  ];

  // normalize to grid size (pad rows to COLS, and repeat to fill ROWS by vertical tiling)
  function buildMap(){
    const map = [];
    for(let r=0;r<ROWS;r++){
      const rowStr = raw[r % raw.length];
      const row = [];
      for(let c=0;c<COLS;c++){
        const ch = rowStr[c % rowStr.length] || '1';
        const val = ch === '1' ? 1 : (ch === '0' ? 2 : 3); // 2 pellet, 3 power pellet
        row.push(val);
      }
      map.push(row);
    }
    return map;
  }

  let map = buildMap();

  // game state
  let score = 0; let lives = 3; let paused = false; let gameOver = false;
  let powerMode = false; let powerTimer = 0;

  // Entities
  const packman = {x:14, y:9, px:14*TILE, py:9*TILE, dir:{x:0,y:0}, speed:2, radius:10, mouth:0.25};
  const ghosts = [
    {name:'Blinky', color:'#ff4242', x:13, y:11, px:13*TILE, py:11*TILE, dir:{x:1,y:0}, speed:1.6, state:'normal'},
    {name:'Clyde', color:'#ffb86b', x:14, y:11, px:14*TILE, py:11*TILE, dir:{x:-1,y:0}, speed:1.4, state:'normal'},
    {name:'Inky', color:'#6be1ff', x:15, y:11, px:15*TILE, py:11*TILE, dir:{x:0,y:1}, speed:1.4, state:'normal'},
  ];

  // helper functions
  function tileCenter(tx,ty){return {x:tx*TILE+TILE/2,y:ty*TILE+TILE/2}};
  function isWall(tx,ty){ if(tx<0||ty<0||tx>=COLS||ty>=ROWS) return true; return map[ty][tx]===1 }

  function resetPositions(){
    packman.x=14; packman.y=9; packman.px=packman.x*TILE; packman.py=packman.y*TILE; packman.dir={x:0,y:0};
    ghosts[0].x=13;ghosts[0].y=11;ghosts[0].px=ghosts[0].x*TILE;ghosts[0].py=ghosts[0].y*TILE;ghosts[0].dir={x:1,y:0};ghosts[0].state='normal';
    ghosts[1].x=14;ghosts[1].y=11;ghosts[1].px=ghosts[1].x*TILE;ghosts[1].py=ghosts[1].y*TILE;ghosts[1].dir={x:-1,y:0};ghosts[1].state='normal';
    ghosts[2].x=15;ghosts[2].y=11;ghosts[2].px=ghosts[2].x*TILE;ghosts[2].py=ghosts[2].y*TILE;ghosts[2].dir={x:0,y:1};ghosts[2].state='normal';
  }

  function drawMap(){
    for(let r=0;r<ROWS;r++){
      for(let c=0;c<COLS;c++){
        const val = map[r][c];
        const x=c*TILE, y=r*TILE;
        if(val===1){
          ctx.fillStyle = '#08314a';
          ctx.fillRect(x,y,TILE,TILE);
          // inner highlight
          ctx.fillStyle = '#072837';
          ctx.fillRect(x+2,y+2,TILE-4,TILE-4);
        } else {
          ctx.fillStyle = '#041026';
          ctx.fillRect(x,y,TILE,TILE);
          if(val===2){ // pellet
            ctx.fillStyle='#ffd24a';
            ctx.beginPath(); ctx.arc(x+TILE/2,y+TILE/2,2,0,Math.PI*2); ctx.fill();
          } else if(val===3){ // power
            ctx.fillStyle='#ffd24a';
            ctx.beginPath(); ctx.arc(x+TILE/2,y+TILE/2,6,0,Math.PI*2); ctx.fill();
          }
        }
      }
    }
  }

  function drawPacman(){
    const cx = packman.px + TILE/2; const cy = packman.py + TILE/2;
    const ang = Math.PI*packman.mouth;
    let start = ang; let end = Math.PI*2 - ang;
    // rotate mouth based on dir
    ctx.save(); ctx.translate(cx,cy);
    if(packman.dir.x===1){ ctx.rotate(0);} else if(packman.dir.x===-1){ ctx.rotate(Math.PI);} else if(packman.dir.y===1){ ctx.rotate(Math.PI/2);} else if(packman.dir.y===-1){ ctx.rotate(-Math.PI/2);} 
    ctx.fillStyle = '#ffd24a';
    ctx.beginPath(); ctx.moveTo(0,0); ctx.arc(0,0,TILE/2,start,end); ctx.closePath(); ctx.fill();
    ctx.restore();
  }

  function drawGhost(g){
    const cx = g.px + TILE/2; const cy = g.py + TILE/2;
    ctx.save();
    // body
    ctx.beginPath();
    ctx.fillStyle = (g.state==='vulnerable') ? '#89b4ff' : g.color;
    ctx.arc(cx, cy-3, TILE/2 - 2, Math.PI, 0);
    ctx.lineTo(cx + TILE/2 - 4, cy + TILE/2 - 4);
    // feet arc
    ctx.quadraticCurveTo(cx, cy + TILE/2 + 2, cx - TILE/2 + 4, cy + TILE/2 - 4);
    ctx.fill();
    // eyes
    ctx.fillStyle = g.state==='vulnerable' ? '#fff' : '#fff';
    ctx.beginPath(); ctx.arc(cx-6,cy-2,4,0,Math.PI*2); ctx.arc(cx+6,cy-2,4,0,Math.PI*2); ctx.fill();
    ctx.fillStyle = (g.state==='vulnerable') ? '#333' : '#000';
    ctx.beginPath(); ctx.arc(cx-6+ (g.dir.x*2),cy-2 + (g.dir.y*1.5),1.8,0,Math.PI*2); ctx.arc(cx+6 + (g.dir.x*2),cy-2 + (g.dir.y*1.5),1.8,0,Math.PI*2); ctx.fill();
    ctx.restore();
  }

  function updatePacman(){
    // movement: attempt to move if next tile isn't a wall
    if(packman.dir.x===0 && packman.dir.y===0) return;
    const nx = packman.px + packman.dir.x * packman.speed;
    const ny = packman.py + packman.dir.y * packman.speed;
    // compute tile centers for collision with walls
    const cx = nx + TILE/2; const cy = ny + TILE/2;
    const tx = Math.floor(cx / TILE); const ty = Math.floor(cy / TILE);
    // if center is inside wall, stop before wall
    if(!isWall(tx,ty)){
      packman.px = nx; packman.py = ny;
      packman.x = Math.floor((packman.px + TILE/2) / TILE);
      packman.y = Math.floor((packman.py + TILE/2) / TILE);
    } else {
      // align to tile grid
      packman.dir = {x:0,y:0};
    }

    // eat pellets if present at current tile
    const cur = map[packman.y][packman.x];
    if(cur===2){ score += 10; map[packman.y][packman.x] = 0; }
    if(cur===3){ score += 50; map[packman.y][packman.x] = 0; enterPowerMode(); }
  }

  function updateGhost(g, idx){
    // simple AI: if vulnerable -> run away from pacman; else random or chase occasionally
    const target = powerMode ? {x: Math.floor(Math.random()*COLS), y: Math.floor(Math.random()*ROWS)} : {x:packman.x, y:packman.y};
    // if at tile center, pick direction
    const centerX = g.px + TILE/2; const centerY = g.py + TILE/2;
    const inCenter = (Math.abs((centerX % TILE) - TILE/2) < 2) && (Math.abs((centerY % TILE) - TILE/2) < 2);
    if(inCenter){
      const gx = Math.floor(centerX / TILE); const gy = Math.floor(centerY / TILE);
      const options = [];
      const dirs = [{x:1,y:0},{x:-1,y:0},{x:0,y:1},{x:0,y:-1}];
      for(const d of dirs){
        const nx = gx + d.x; const ny = gy + d.y;
        if(!isWall(nx,ny)) options.push(d);
      }
      // pick direction towards target with some randomness
      if(options.length>0){
        options.sort((a,b)=>{
          const da = Math.hypot((gx+a.x)-target.x, (gy+a.y)-target.y);
          const db = Math.hypot((gx+b.x)-target.x, (gy+b.y)-target.y);
          return (Math.random()*0.6 + (da - db));
        });
        g.dir = options[0];
      }
    }
    // move
    g.px += g.dir.x * g.speed;
    g.py += g.dir.y * g.speed;
    g.x = Math.floor((g.px + TILE/2) / TILE);
    g.y = Math.floor((g.py + TILE/2) / TILE);

    // simple wrap-around
    if(g.px < -TILE) g.px = canvas.width + TILE; if(g.px > canvas.width + TILE) g.px = -TILE;
  }

  function enterPowerMode(){
    powerMode = true; powerTimer = 600; // frames ~10 seconds at 60fps
    ghosts.forEach(g=>g.state='vulnerable');
    modeEl.textContent = 'Power!';
  }

  function exitPowerMode(){ powerMode=false; ghosts.forEach(g=>g.state='normal'); modeEl.textContent = 'Normal'; }

  function checkCollisions(){
    for(const g of ghosts){
      const px = packman.px + TILE/2; const py = packman.py + TILE/2;
      const gx = g.px + TILE/2; const gy = g.py + TILE/2;
      const dist = Math.hypot(px-gx, py-gy);
      if(dist < TILE*0.6){
        if(g.state==='vulnerable'){
          // eat ghost
          score += 200;
          g.px = g.x * TILE; g.py = g.y * TILE; // respawn at tile
          g.state = 'eaten';
          setTimeout(()=>{ g.state='normal'; }, 3000);
        } else if(g.state==='normal'){
          // lose life
          loseLife();
        }
      }
    }
  }

  function loseLife(){
    lives--; updateUI();
    if(lives<=0){ showGameOver(); } else { resetPositions(); }
  }

  function showGameOver(){
    gameOver = true; paused = true; overlayTitle.textContent = 'Game Over'; overlayText.textContent = `Final score: ${score}`; overlay.style.display='flex';
  }

  function updateUI(){ scoreEl.textContent = score; livesEl.textContent = lives; }

  // input handling
  const keys = {};
  window.addEventListener('keydown', e=>{ if(['ArrowUp','ArrowDown','ArrowLeft','ArrowRight'].includes(e.key)){ e.preventDefault(); keys[e.key]=true; setDirectionFromKeys(); }});
  window.addEventListener('keyup', e=>{ if(keys[e.key]) keys[e.key]=false; setDirectionFromKeys(); });

  function setDirectionFromKeys(){
    if(keys['ArrowUp']) packman.dir={x:0,y:-1}; else if(keys['ArrowDown']) packman.dir={x:0,y:1}; else if(keys['ArrowLeft']) packman.dir={x:-1,y:0}; else if(keys['ArrowRight']) packman.dir={x:1,y:0};
  }

  // touch buttons
  document.getElementById('dpad').addEventListener('pointerdown', e=>{
    const btn = e.target.closest('button[data-dir]'); if(!btn) return; const dir=btn.dataset.dir;
    if(dir==='up') packman.dir={x:0,y:-1}; if(dir==='down') packman.dir={x:0,y:1}; if(dir==='left') packman.dir={x:-1,y:0}; if(dir==='right') packman.dir={x:1,y:0};
  });
  // release stops movement (like holding button)
  document.getElementById('dpad').addEventListener('pointerup', e=>{ packman.dir={x:0,y:0}; });
  document.getElementById('dpad').addEventListener('pointerleave', e=>{ packman.dir={x:0,y:0}; });

  // control buttons
  startBtn.addEventListener('click', ()=>{ startGame(); });
  muteBtn.addEventListener('click', ()=>{ paused = !paused; muteBtn.textContent = paused ? 'Resume' : 'Pause'; });
  overlayBtn.addEventListener('click', ()=>{ overlay.style.display='none'; startGame(); });

  function startGame(){
    // reset
    map = buildMap(); score=0; lives=3; paused=false; gameOver=false; powerMode=false; updateUI(); resetPositions(); overlay.style.display='none';
  }

  // main loop
  let frame=0;
  function loop(){
    if(!paused && !gameOver){
      updatePacman();
      ghosts.forEach((g,i)=>updateGhost(g,i));
      checkCollisions();
      if(powerMode){ powerTimer--; if(powerTimer<=0) exitPowerMode(); }
    }
    render();
    frame++; requestAnimationFrame(loop);
  }

  function render(){
    ctx.clearRect(0,0,canvas.width,canvas.height);
    drawMap();
    // draw pellets & tiles are drawn in drawMap
    // draw pacman
    drawPacman();
    // draw ghosts
    ghosts.forEach(g=>drawGhost(g));
    updateUI();
  }

  // start initial
  resetPositions(); loop();

})();
</script></body>
</html>   
    
